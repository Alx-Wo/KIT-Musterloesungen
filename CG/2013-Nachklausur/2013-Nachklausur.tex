\documentclass[a4paper]{scrartcl}
\usepackage[ngerman]{babel}
\usepackage[utf8]{inputenc}
\usepackage{amssymb,amsmath}
\usepackage{graphicx}
\usepackage[inline]{enumitem}
\setlist{noitemsep}
\usepackage[binary-units=true]{siunitx}
\usepackage{hyperref}
\usepackage{parskip}
\usepackage[nameinlink,noabbrev,ngerman]{cleveref} % has to be after hyperref
\usepackage{nicefrac}  % for \nicefrac{1}{3}
\usepackage{csquotes}  % for \enquote{what you want to quote}
\usepackage{booktabs}  % for \toprule, \midrule and \bottomrule
\usepackage{minted} % needed for the inclusion of source code

% for \begin{enumerate}[label=(\Alph*)], see http://tex.stackexchange.com/a/129960/5645
\usepackage{enumitem}

\setcounter{secnumdepth}{2}
\setcounter{tocdepth}{2}

\usepackage{wasysym}  % For \CheckedBox
\usepackage{microtype}

\begin{document}
\selectlanguage{ngerman}
\title{2013 Nachklausur (WS 2012/13)}

\setcounter{section}{1}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Aufgabe 1: Raytracing}
\subsection*{Teilaufgabe 1a}
\begin{figure}[h]
    \centering
    \includegraphics*[width=0.8\linewidth, keepaspectratio]{1a.png}
    \caption{Reflexionsstrahl, Schattenstrahlen und Transmissionstrahl}
    \label{fig:1a}
\end{figure}

\subsection*{Teilaufgabe 1b}
\textit{Wie nennt man das physikalische Gesetz oder Prinzip, welches die Richtungsänderung
eines Lichtstrahls beim Übergang in ein anderes Medium beschreibt?}

Snellsches Gesetz ($\eta_0 \cdot \sin \theta_0 = \theta_1 \cdot \sin \delta_1$)

\subsection*{Teilaufgabe 1c}
\textit{Welche Bedingung muss gelten, damit beim Übergang eines Lichtstrahls
von einem Medium mit Refraktionsindex $\eta_0$ in ein Medium mit
Refraktionsindex $\eta_1$ Totalreflexion auftreten kann?}

Der Einfallswinkel muss einen Grenzwinkel
$\theta = \arcsin \frac{\eta_1}{\eta_0}$
überschreiten (also besonders flach auf das Material sein).


\section*{Aufgabe 2: Beleuchtung und Wahrnehmung}
\subsection*{Teilaufgabe 2a}
\begin{itemize}
    \item Bild 1: Nicht mögliche Kombination aus Bild~2 und Bild~3.
    \item Bild 2: Komplett spekular
    \item Bild 3: Entspricht einem Glanzlicht in Richtung $N$, aber das ist nur
                  in Richtung $R_L$ möglich.
    \item Bild 4: Komplett diffus.
\end{itemize}

\subsection*{Teilaufgabe 2b}
\begin{tabular}{p{12cm}ll}\toprule
Aussage                                                                                                                                                           & Wahr           & Falsch \\\midrule
Von den drei Grundfarben der additiven Farbmischung sind Menschen gegenüber blau in der Regel am unempfindlichsten.                                               & \CheckedBox    & $\square$        \\
Es gibt keine zwei unterschiedlichen Lichtspektren im sichtbaren Bereich, die der Mensch als dieselbe Farbe wahrnimmt.                                            & $\square$      & \CheckedBox      \\
Genau drei Grundgrößen reichen (nach Graßmann) aus, um einen menschlichen Farbeindruck zu beschreiben.                                                            & \CheckedBox    & $\square$        \\
Es entspricht nicht der menschlichen Farbempfindlichkeit, wenn die Helligkeit (Luminanz) einer Farbe als das arithmetische Mittel der RGB-Anteile berechnet wird. & \CheckedBox    & $\square$        \\
Gammakorrektur mit dem Parameter $\gamma$ wird üblicherweise durch die Abbildung $L'=\gamma^L$ beschrieben.                                                       & $\square$      & \CheckedBox      \\\bottomrule
\end{tabular}

\section*{Aufgabe 3: Transformationen}
\subsection*{Teilaufgabe 3a}
Homogene Koordinaten
\[M = \begin{pmatrix}1 & 0 & 2\\
                     0 & 2 & 1\\
                     0 & 0 & 1\end{pmatrix}\]

\subsection*{Teilaufgabe 3b}
\textit{Geben Sie zeichnerisch ein einfaches Beispiel an, das deutlich zeigt,
dass man die Normalen eines Primitivs im Allgemeinen nicht mit derselben Matrix
transformieren kann wie die Vertizes. Um was für eine Art Transformation
handelt es sich dabei?}

Normale auf Kreis; Skalierung in $x$-Richtung.

\subsection*{Teilaufgabe 3c}
\textit{Um Normalen korrekt von Objekt- in Kamerakoordinaten zu transformieren, verwendet man die\dots}
\begin{itemize}
    \item \CheckedBox inverstransponierte Model-View-Matrix.
    \item $\square$ dehomogenisierte Model-View-Matrix.
    \item $\square$ inverse Projektionsmatrix.
\end{itemize}

\textit{Die Matrix $\begin{pmatrix}1 & 0 & 2\\
                     0 & 1 & 2\\
                     0 & 0 & 1\end{pmatrix}$ ist eine\dots}
\begin{itemize}
    \item \CheckedBox Translationsmatrix in homogenen 2D-Koordinaten.
    \item $\square$ Translationsmatrix in homogenen 3D-Koordinaten.
    \item $\square$ Rotationsmatrix in $\mathbb{R}^{3 \times 3}$.
\end{itemize}

\textit{Die Matrix $\begin{pmatrix}1 & 0\\
                     0 & 1\end{pmatrix}$ beschreibt eine\dots}
\begin{itemize}
    \item $\square$ Rotation.
    \item \CheckedBox Spiegelung an der ersten Winkelhalbierenden.
    \item $\square$ nichtlineare Abbildung.
\end{itemize}

Matrixmultiplikation ist stets kommutativ, wenn\dots
\begin{itemize}
    \item \CheckedBox nur Skalierungsmatrizen multipliziert werden.
    \item $\square$ nur Scherungsmatrizen multipliziert werden.
    \item \CheckedBox nur Rotationsmatrizen multipliziert werden.
\end{itemize}

Beweis für 2D-Rotationsmatrizen:

\begin{align}
    \begin{pmatrix}\cos \alpha & -\sin \alpha\\
                   \sin \alpha & \cos \alpha\end{pmatrix} \cdot
    \begin{pmatrix}\cos \beta & -\sin \beta\\
                   \sin \beta & \cos \beta\end{pmatrix}
    &= \begin{pmatrix}\cos \alpha \cos \beta - \sin  \alpha \sin \beta & -\cos \alpha \sin \beta - \sin \alpha \cos \beta\\
                      \sin \alpha \cos \beta + \cos \alpha \sin \beta  & -\sin \alpha \sin \beta + \cos \alpha \cos \beta\end{pmatrix}\\
    &=\begin{pmatrix}\cos \beta & -\sin \beta\\
                   \sin \beta & \cos \beta\end{pmatrix} \cdot \begin{pmatrix}\cos \alpha & -\sin \alpha\\
                   \sin \alpha & \cos \alpha\end{pmatrix}
\end{align}

\section*{Aufgabe 4: Texturen und Texture-Mapping}
\subsection*{Teilaufgabe 4a}
\textit{Skizzieren Sie hier die Ausgabe}

Wie Beispiellösung, nur anstelle von \enquote{C} kommt B und anstelle von \enquote{A}
kommt D.

\subsection*{Teilaufgabe 4b}
\textit{Wann und wofür wird die bilineare Interpolation beim Texture-Mapping verwendet?}

Bei Magnification um Unschärfe zu kompensieren.

\subsection*{Teilaufgabe 4c}
\textit{Was ist die Grundidee von vorgefilterten Environment Maps?}

Die Grundidee ist die Darstellung einer Umgebung mit nur geringem Aufwand.

\textit{Nennen Sie zwei Beispiele für Beleuchtungseffekte, die damit erzielt werden können!}

\begin{itemize}
    \item Diffuse Beleuchtung
    \item Spekulare Beleuchtung
\end{itemize}


\textit{Welche grundlegende Annahme wird dabei gemacht?}

Die Umgebung ist weit genug entfernt, sodass die Position keine Rolle spielt
und nur die Richtung genommen werden muss.

\section*{Aufgabe 5: Räumliche Datenstrukturen}
\subsection*{Teilaufgabe 5a}
\begin{tabular}{p{9cm}llll}\toprule
Aussage                                                                                                                    & BVH & Octree & kD-Baum & Gitter \\\midrule
Die Raumunterteilung kann mit Hilfe der Surface Area Heuristic durchgeführt werden.                                        & \CheckedBox   & $\square$        & \CheckedBox       & $\square$        \\
Die Anzahl der Schnitttests mit Primitiven kann durch Mailboxing weiter reduziert werden.                                  & \CheckedBox   & \CheckedBox      & $\square$         & \CheckedBox      \\
Die Raumunterteilung ist geschickt für Szenen mit einer Geometrie, die dem sogenannten Teapot-in-a-Stadium-Problem ähnelt. & \CheckedBox   & \CheckedBox      & \CheckedBox       & $\square$        \\
Der Datenstruktur liegt ein Binärbaum zugrunde.                                                                            & \CheckedBox   & $\square$        & \CheckedBox       & $\square$        \\\bottomrule
\end{tabular}
\subsection*{Teilaufgabe 5b}
\includegraphics*[width=0.8\linewidth, keepaspectratio]{5b.png}

\subsection*{Teilaufgabe 5c}
\textit{Sie wollen in der obigen Szene Raytracing durchführen und dies mit einer räumlichen
Datenstuktur beschleunigen. Ist dafür ein regelmäßiges Gitter oder ein kD-Baum besser
geeignet? Begründen Sie Ihre Entscheidung!}

Ein kD-Baum eignet sich für das genannte Szenario besser, da bei Verwendung
eines Gitters mehr als die Hälfte des raumes leer ist. Der Großteil der
Geometrie befindet sich links unten.

\section*{Aufgabe 6: Rauschen und Turbulenz}
\subsection*{Teilaufgabe 6a}
\textit{Welche der Funktionen ist eine Rauschfunktion (value noise)?}
$\gamma(t)$

\subsection*{Teilaufgabe 6b}
\textit{Welche der Funktionen ist eine Turbulenzfunktion? Wie kann man eine Turbulenz-
funktion aus einer Rauschfunktion wie der aus Aufgabe a) erzeugen? Geben Sie eine
Formel an!}

$\delta(t)$ wird erzeugt durch spektrale Synthese (vgl. Folie~14):

\[\text{turbulence}(x) = \sum{k}^n (\nicefrac{1}{2})^k \cdot n(2^k \cdot x)\]

\subsection*{Teilaufgabe 6c}
\textit{Welche zwei der Funktionen sind weder Rausch- noch Turbulenzfunktionen?
Nennen Sie jeweils eine Eigenschaft von Rauschfunktionen, die nicht erfüllt
wird.}

\begin{itemize}
    \item[$\alpha$] Eine Rauschfunktion darf nicht sichtbar periodisch sein
    \item[$\beta$] Räumliche Korrelation ist verletzt
\end{itemize}

\section*{Aufgabe 7}
TODO

\section*{Aufgabe 8}
TODO

\section*{Aufgabe 9}
TODO

\section*{Aufgabe 10}
TODO

\section*{Aufgabe 11}
\inputminted[linenos, numbersep=5pt, tabsize=4, frame=lines, label=shader.frag]{glsl}{shader.frag}

\section*{Aufgabe 12}
TODO

\end{document}
